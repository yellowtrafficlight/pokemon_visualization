<!--The following LLMs were used to generate this file: Claude Code, Claude 3.7 Sonnet, GPT 4o, OpenAI o3-mini -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Pokémon Guide: A Beginner's Quest to Be the Best</title>
  <style>
    body {
      background-color: #121212;
      color: white;
      text-align: center;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      max-width: 1000px;
      margin: 0 auto;
    }
    .wheel-container {
      position: relative;
      width: 700px;
      height: 700px;
    }
    .type-icon {
      cursor: pointer;
      transition: opacity 0.5s;
    }
    .type-icon.selected {
      filter: drop-shadow(0px 0px 10px white);
      opacity: 1;
    }
    .type-icon.fade {
      opacity: 0.1;
    }
    /* Basic path styling */
    .connections path {
      fill: none;
      stroke: rgba(100, 100, 100, 0.3);
      stroke-width: 1;
      transition: stroke 0.3s, stroke-width 0.3s;
    }
    .connections path.highlighted {
      /* stroke-width: 3; */
      fill: none; /* Placeholder */
    }
    .connections path.mutual-immunity.highlighted {
      stroke: white;
      stroke-width: 2;
    }
    .connections path.one-way-immunity.highlighted {
      /* stroke: #5555FF; */
      stroke-width: 30;
    }
    .connections path.advantage-2x.highlighted {
      /* stroke: #FFCC00; */
      stroke-width: 3;
    }
    .connections path.advantage-4x.highlighted {
      /* stroke: #FF5555; */
      stroke-width: 15;
    }
    .connections path.adv {
      stroke: green;
    }
    .connections path.disadv {
      stroke: red;
    }
    /* Make marker lines invisible by default - no markers shown */
    .marker-line {
      visibility: hidden;
    }
    /* Show marker lines when highlighted */
    .marker-line.highlighted {
      visibility: visible;
    }
    .tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 10px;
      border-radius: 5px;
      display: none;
      pointer-events: none;
      max-width: 250px;
      text-align: left;
      z-index: 100;
    }
    .side-panel {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      width: 250px;
      outline: solid;
      padding: 10px;
    }
    .legend {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      margin-bottom: 20px;
      gap: 10px;
    }
    .legend-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .legend-color {
      width: 20px;
      height: 4px;
      border-radius: 2px;
    }
    .legend-width {
      background: gray;
      width: 20px;
      border-radius: 2px;
    }
    .instructions {
      max-width: 250px;
      margin: 0 0 20px;
      font-size: 14px;
      opacity: 0.8;
      text-align: left;
    }
    .reset-button {
      background: #333;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
      align-self: center;
    }
    .reset-button:hover {
      background: #444;
    }
  </style>
</head>
<body>
  <h1><i>The Pokémon Guide: A Beginner's Quest to Be the Best</i></h1>
  <div>
    Welcome to <i>The Pokémon Guide: A Beginner's Quest to Be the Best</i>.
  </div>
  <div>&nbsp;</div>
  <div style="padding-left: 10%; padding-right: 10%">
    Released in 1996, Pokémon is a role-playing video game franchise that is situated on capturing, training, and battling mythical creatures known as Pokémon. Since then, Pokémon is the most successful media franchise of all time: a) it has grossed more than $150 billion in lifetime revenue as of 2023, b) garnered an estimated $30 billion gross from the video games and $100 billion from merchandise sales, c) has the most downloaded mobile game with over 1 billion downloads, d) sold over 64.8 billion in trading cards, and e) obtained more than 1 billion viewers through both its TV series and films across 183 countries (<a href="http://vgsales.fandom.com/wiki/Pok%C3%A9mon#cite_note-:1-1">Pokemon</a>; <a href="http://corporate.pokemon.co.jp/en/aboutus/figures/">The Pokemon Company</a>; <a href="https://www.theverge.com/2019/2/28/18243332/pokemon-go-sword-shield-franchise-history-niantic-nintendo-switch">Webster</a>).
  </div>
  <div>&nbsp;</div>
  <div>
    Don't believe us? See it for yourselves:
  </div>
  <div>&nbsp;</div>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/6xKWiCMKKJg?si=v_3vok_oZ5Wgwy7_" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  <div>&nbsp;</div>
  <div>&nbsp;</div>
  <div>
    Pokémon is a global sensation - but getting into it for the first time? That can feel overwhelming.
  </div>
  <div>&nbsp;</div>
  <div style="padding-left: 10%; padding-right: 10%">
    While there are countless fan wikis and forums, they often assume prior knowledge. The most popular database, <a href="https://pokemondb.net/">Pokémon Database</a>, is data-rich but not beginner-friendly. Academic studies like <a href="https://www.jstor.org/stable/41484188?seq=1">What Pokémon Can Teach Us about Learning and Literacy” (Vasquez, 2003)</a>“ even show how much prior cultural knowledge is expected.
  </div>
  <div>&nbsp;</div>
  <div>
    That's where this application comes in.
  </div>
  <div>&nbsp;</div>
  <div>
    Our mission is simple:
  </div>
  <div>&nbsp;</div>
  <div>
    Teach Pokémon to people who've never played or watched it before.
  </div>
  <div>&nbsp;</div>
  <div style="padding-left: 10%; padding-right: 10%">
    We use interactive visualizations to break down the most quintessential concepts into something anyone can explore and understand. No jargon. No gatekeeping. Just data, stories, a little fun, and a little curiosity.
  </div>
  <div>&nbsp;</div>

  <h1>Understanding Pokémon Types - The Type Wheel</h1>
  <div style="padding-left: 10%; padding-right: 10%">
    <p>
      First things first: every Pokémon has a type: Fire, Water, Grass, Electric, and so on. These types form a complex network of strengths and weaknesses.
    </p>
    <p>
      For example: Water beats Fire. Fire beats Grass. Grass beats Water.
    </p>
    <p>
      Sounds simple? Now imagine this, with 18 types and 324 possible matchups?!?
    </p>
    <p>
      This is where the Type Wheel helps.
    </p>
    <p>
      It's a visual map of relationships between types. You can click on any type to see what it's strong against, weak to, or resistant to.
    </p>
    <p>
      Try it out. Explore the symmetries, the surprises—like how Ghost Pokémon are immune to Normal-type attacks.
    </p>
  </div>
  <div>&nbsp;</div>

  <div class="container">
    <div class="side-panel">
      <div>
        <h2>
          Wheel Legend
        </h2>
      </div>
      <div class="instructions">
        Click on type icons to show their relationships. Click again to deselect a type.
        Hover over any type for more information.
      </div>
      <div class="legend">
        <div>
          <h3 >
            Line Thickness
          </h3>
        </div>
        <div class="legend-item">
          <div class="legend-width" style="height: 30px;"></div>
          <span>Immunity</span>
        </div>
        <div class="instructions">
          One type is guaranteed to win against the other type.
        </div>
        <div class="legend-item">
          <div class="legend-width" style="height: 15px;"></div>
          <span>Double Advantage</span>
        </div>
        <div class="instructions">
          One type does 4 times as much damage to the other type.
        </div>
        <div class="legend-item">
          <div class="legend-width" style="height: 4px;"></div>
          <span>Advantage</span>
        </div>
        <div class="instructions">
          One type does 2 times as much damage to the other type.
        </div>
        <div>
          <h3>
            Line Color
          </h3>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: green;"></div>
          <span>Favorable Matchup</span>
        </div>
        <div class="instructions">
          The selected Pokemon type does more damage against the other type.
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: red;"></div>
          <span>Unfavorable Matchup</span>
        </div>
        <div class="instructions">
          The selected Pokemon type does less damage against the other type.
        </div>
        <div class="legend-item">
          <div class="legend-width" style="height: 2px; background: white;"></div>
          <span>Mutual Immunity</span>
        </div>
        <div class="instructions">
          The selected Pokemon type and the other type will do no damage against each other.
        </div>
      </div>
      <button class="reset-button" id="resetButton">Reset Selection</button>
    </div>
    <svg width="700" height="700" class="wheel-container" id="wheel">
      <!-- <defs>
        <marker id="arrow-advantage-4x" viewBox="0 0 10 10" refX="5" refY="5"
          markerWidth="20" markerHeight="20" orient="auto">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="#FF5555"/>
        </marker>
        <marker id="arrow-advantage-2x" viewBox="0 0 10 10" refX="5" refY="5"
          markerWidth="20" markerHeight="20" orient="auto">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="#FFCC00"/>
        </marker>
        <marker id="arrow-one-way-immunity" viewBox="0 0 10 10" refX="5" refY="5"
          markerWidth="20" markerHeight="20" orient="auto">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="#5555FF"/>
        </marker>
      </defs> -->
      <g class="connections" id="connections"></g>
      <g class="types" id="types"></g>
    </svg>
    <div id="tooltip" class="tooltip"></div>
  </div>
  
  <script>
    const types = [
      'Normal', 'Fire', 'Water', 'Electric', 'Grass', 'Ice', 'Fighting', 'Poison', 
      'Ground', 'Flying', 'Psychic', 'Bug', 'Rock', 'Ghost', 'Dragon', 'Dark', 'Steel', 'Fairy'
    ];
    
    const typeCounts = {
      Normal: "133",
      Fire: "87",
      Water: "159",
      Electric: "73",
      Grass: "130",
      Ice: "58",
      Fighting: "82",
      Poison: "87",
      Ground: "77",
      Flying: "112",
      Psychic: "109",
      Bug: "92",
      Rock: "78",
      Ghost: "73",
      Dragon: "75",
      Dark: "82",
      Steel: "77",
      Fairy: "69"
    };
    
    const effectiveness = {
      Normal: { Rock: 0.5, Ghost: 0, Steel: 0.5 },
      Fire: { Fire: 0.5, Water: 0.5, Grass: 2, Ice: 2, Bug: 2, Rock: 0.5, Dragon: 0.5, Steel: 2 },
      Water: { Fire: 2, Water: 0.5, Grass: 0.5, Ground: 2, Rock: 2, Dragon: 0.5 },
      Electric: { Water: 2, Electric: 0.5, Grass: 0.5, Ground: 0, Flying: 2, Dragon: 0.5 },
      Grass: { Fire: 0.5, Water: 2, Grass: 0.5, Poison: 0.5, Ground: 2, Flying: 0.5, Bug: 0.5, Rock: 2, Dragon: 0.5, Steel: 0.5 },
      Ice: { Fire: 0.5, Water: 0.5, Grass: 2, Ice: 0.5, Ground: 2, Flying: 2, Dragon: 2, Steel: 0.5 },
      Fighting: { Normal: 2, Ice: 2, Rock: 2, Dark: 2, Steel: 2, Poison: 0.5, Flying: 0.5, Psychic: 0.5, Bug: 0.5, Ghost: 0, Fairy: 0.5 },
      Poison: { Grass: 2, Poison: 0.5, Ground: 0.5, Rock: 0.5, Ghost: 0.5, Steel: 0, Fairy: 2 },
      Ground: { Fire: 2, Electric: 2, Grass: 0.5, Poison: 2, Flying: 0, Bug: 0.5, Rock: 2, Steel: 2 },
      Flying: { Electric: 0.5, Grass: 2, Fighting: 2, Bug: 2, Rock: 0.5, Steel: 0.5 },
      Psychic: { Fighting: 2, Poison: 2, Psychic: 0.5, Dark: 0, Steel: 0.5 },
      Bug: { Fire: 0.5, Grass: 2, Fighting: 0.5, Poison: 0.5, Flying: 0.5, Psychic: 2, Ghost: 0.5, Dark: 2, Steel: 0.5, Fairy: 0.5 },
      Rock: { Fire: 2, Ice: 2, Fighting: 0.5, Ground: 0.5, Flying: 2, Bug: 2, Steel: 0.5 },
      Ghost: { Normal: 0, Psychic: 2, Ghost: 2, Dark: 0.5 },
      Dragon: { Dragon: 2, Steel: 0.5, Fairy: 0 },
      Dark: { Fighting: 0.5, Psychic: 2, Ghost: 2, Dark: 0.5, Fairy: 0.5 },
      Steel: { Fire: 0.5, Water: 0.5, Electric: 0.5, Ice: 2, Rock: 2, Steel: 0.5, Fairy: 2 },
      Fairy: { Fire: 0.5, Fighting: 2, Poison: 0.5, Dragon: 2, Dark: 2, Steel: 0.5 }
    };

    const svg = document.getElementById("wheel");
    const connectionsGroup = document.getElementById("connections");
    const typesGroup = document.getElementById("types");
    const tooltip = document.getElementById("tooltip");
    const resetButton = document.getElementById("resetButton");
    
    const radius = 300;
    const centerX = 350;
    const centerY = 350;
    const selectedTypes = new Set();
    const visibleTypes = new Set();

    // Calculate relationships (immunities, 2x advantages, 4x advantages)
    function calculateRelationships() {
      const mutualImmunities = {};
      const oneWayImmunities = {};
      const advantages2x = {};
      const advantages4x = {};
      
      // Initialize data structures
      types.forEach(type => {
        mutualImmunities[type] = {};
        oneWayImmunities[type] = {};
        advantages2x[type] = {};
        advantages4x[type] = {};
      });
      
      // First pass: Identify all immunities
      const allImmunities = {};
      types.forEach(attacker => {
        allImmunities[attacker] = {};
        types.forEach(defender => {
          if (attacker === defender) return;
          
          // If effectiveness[attacker][defender] = 0, defender is immune to attacker
          if (effectiveness[attacker]?.[defender] === 0) {
            allImmunities[attacker][defender] = true;
          }
        });
      });
      
      // Second pass: Classify immunities as mutual or one-way
      types.forEach(type1 => {
        types.forEach(type2 => {
          if (type1 === type2 || type1 > type2) return; // Process each pair once
          
          const type1ImmuneTotype2 = effectiveness[type2]?.[type1] === 0;
          const type2ImmuneTotype1 = effectiveness[type1]?.[type2] === 0;
          
          if (type1ImmuneTotype2 && type2ImmuneTotype1) {
            // Mutual immunity
            mutualImmunities[type1][type2] = true;
            mutualImmunities[type2][type1] = true;
          } else if (type1ImmuneTotype2) {
            // One-way: type1 is immune to type2
            oneWayImmunities[type1][type2] = true;
          } else if (type2ImmuneTotype1) {
            // One-way: type2 is immune to type1
            oneWayImmunities[type2][type1] = true;
          }
        });
      });
      
      // Third pass: Calculate advantages (only for pairs without immunities)
      types.forEach(attacker => {
        types.forEach(defender => {
          if (attacker === defender) return;
          
          // Skip if there's any immunity involved
          if (mutualImmunities[attacker][defender] || 
              oneWayImmunities[attacker][defender] ||
              mutualImmunities[defender][attacker] ||
              oneWayImmunities[defender][attacker]) {
            return;
          }
          
          const attackerToDef = effectiveness[attacker]?.[defender] || 1;
          const defToAttacker = effectiveness[defender]?.[attacker] || 1;
          
          if (attackerToDef > defToAttacker) {
            const ratio = attackerToDef / defToAttacker;
            
            if (ratio >= 4) {
              advantages4x[attacker][defender] = true;
            } else if (ratio >= 2) {
              advantages2x[attacker][defender] = true;
            }
          }
        });
      });
      
      return { mutualImmunities, oneWayImmunities, advantages2x, advantages4x };
    }

    // Create all connections
    function createConnections() {
      const { mutualImmunities, oneWayImmunities, advantages2x, advantages4x } = calculateRelationships();
      
      // Set to track connections we've already created
      const createdConnections = new Set();
      
      types.forEach((sourceType, i) => {
        const sourceAngle = (i / types.length) * 2 * Math.PI;
        const sourceX = centerX + radius * Math.cos(sourceAngle);
        const sourceY = centerY + radius * Math.sin(sourceAngle);
        
        // Create mutual immunity connections
        types.forEach((targetType, j) => {
          if (sourceType === targetType || !mutualImmunities[sourceType][targetType]) return;
          
          // Create connections only once (from smaller index to larger)
          if (i < j) {
            const targetAngle = (j / types.length) * 2 * Math.PI;
            const targetX = centerX + radius * Math.cos(targetAngle);
            const targetY = centerY + radius * Math.sin(targetAngle);
            
            createConnectionPath(sourceX, sourceY, targetX, targetY, sourceType, targetType, "mutual-immunity");
          }
        });
        
        // Create one-way immunity connections
        types.forEach((targetType, j) => {
          if (sourceType === targetType || !oneWayImmunities[sourceType][targetType]) return;
          
          const targetAngle = (j / types.length) * 2 * Math.PI;
          const targetX = centerX + radius * Math.cos(targetAngle);
          const targetY = centerY + radius * Math.sin(targetAngle);
          
          createConnectionPath(sourceX, sourceY, targetX, targetY, sourceType, targetType, "one-way-immunity");
        });
        
        // Create 2x advantage connections
        types.forEach((targetType, j) => {
          if (sourceType === targetType || !advantages2x[sourceType][targetType]) return;
          
          const targetAngle = (j / types.length) * 2 * Math.PI;
          const targetX = centerX + radius * Math.cos(targetAngle);
          const targetY = centerY + radius * Math.sin(targetAngle);
          
          createConnectionPath(sourceX, sourceY, targetX, targetY, sourceType, targetType, "advantage-2x");
        });
        
        // Create 4x advantage connections
        types.forEach((targetType, j) => {
          if (sourceType === targetType || !advantages4x[sourceType][targetType]) return;
          
          const targetAngle = (j / types.length) * 2 * Math.PI;
          const targetX = centerX + radius * Math.cos(targetAngle);
          const targetY = centerY + radius * Math.sin(targetAngle);
          
          createConnectionPath(sourceX, sourceY, targetX, targetY, sourceType, targetType, "advantage-4x");
        });
      });
    }
    
    // Helper function to create connection path
    function createConnectionPath(sourceX, sourceY, targetX, targetY, sourceType, targetType, connectionClass) {
      // Create curved path
      const midX = (sourceX + targetX) / 2;
      const midY = (sourceY + targetY) / 2;
      const curveControl = 0.15;
      const controlX = midX + (centerX - midX) * curveControl;
      const controlY = midY + (centerY - midY) * curveControl;
      
      // Calculate the point at t=0.5 on the quadratic Bezier curve
      const t = 0.8;
      const midPointX = (1-t)*(1-t)*sourceX + 2*(1-t)*t*controlX + t*t*targetX;
      const midPointY = (1-t)*(1-t)*sourceY + 2*(1-t)*t*controlY + t*t*targetY;
      
      // Path with explicit L command at midpoint to force marker placement there
      const pathData = `M ${sourceX} ${sourceY} Q ${controlX} ${controlY} ${targetX} ${targetY}`;
      
      const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
      path.setAttribute("d", pathData);
      path.setAttribute("class", connectionClass);
      path.setAttribute("data-source", sourceType);
      path.setAttribute("data-target", targetType);
      
      // // For non-mutual immunity connections, add a separate invisible arrow marker at midpoint
      // if (connectionClass !== "mutual-immunity") {
      //   // Create a small line segment at the midpoint to attach the marker
      //   const markerLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
        
      //   // Calculate the tangent direction at the midpoint
      //   const dx = 2*(1-t)*(controlX-sourceX) + 2*t*(targetX-controlX);
      //   const dy = 2*(1-t)*(controlY-sourceY) + 2*t*(targetY-controlY);
        
      //   // Normalize the direction vector
      //   const len = Math.sqrt(dx*dx + dy*dy);
      //   const nx = dx/len;
      //   const ny = dy/len;
        
      //   // Create a line long enough to display the marker but still visually minimal
      //   const lineLength = 2; // Small but sufficient for marker display
      //   markerLine.setAttribute("x1", midPointX - nx * lineLength);
      //   markerLine.setAttribute("y1", midPointY - ny * lineLength);
      //   markerLine.setAttribute("x2", midPointX + nx * lineLength);
      //   markerLine.setAttribute("y2", midPointY + ny * lineLength);
        
      //   // Add marker-line class for CSS styling
      //   markerLine.setAttribute("class", `marker-line ${connectionClass}-marker`);
      //   markerLine.setAttribute("stroke", "rgba(100,100,100,0.8)"); // Give it a visible stroke for when highlighted
      //   markerLine.setAttribute("stroke-width", "1");
      //   markerLine.setAttribute("marker-end", `url(#arrow-${connectionClass})`);
      //   markerLine.setAttribute("data-source", sourceType);
      //   markerLine.setAttribute("data-target", targetType);
        
      //   connectionsGroup.appendChild(markerLine);
      // }
      
      connectionsGroup.appendChild(path);
    }

    // Create type icons
    function createTypeIcons() {
      types.forEach((type, i) => {
        const angle = (i / types.length) * 2 * Math.PI;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        
        const group = document.createElementNS("http://www.w3.org/2000/svg", "g");
        group.setAttribute("class", "type-icon");
        group.setAttribute("data-type", type);
        group.setAttribute("transform", `translate(${x}, ${y})`);
        
        // Create image element for type icon
        const image = document.createElementNS("http://www.w3.org/2000/svg", "image");
        image.setAttribute("href", `transparent_icons/${type.toLowerCase()}.png`);
        image.setAttribute("width", "60");
        image.setAttribute("height", "60");
        image.setAttribute("x", "-30");
        image.setAttribute("y", "-30");
        image.setAttribute("preserveAspectRatio", "xMidYMid meet");
        
        group.appendChild(image);
        typesGroup.appendChild(group);
        
        // Add click event for toggling selection
        group.addEventListener("click", (e) => {
          const clickedType = e.currentTarget.getAttribute("data-type");
          
          if (selectedTypes.has(clickedType)) {
            // Deselect if already selected
            selectedTypes.delete(clickedType);
            e.currentTarget.classList.remove("selected");
          } else {
            // Add to selection
            selectedTypes.add(clickedType);
            e.currentTarget.classList.add("selected");
          }
          
          updateConnections();
          updateIcons();
        });
        
        // Tooltip on hover
        group.addEventListener("mouseenter", (e) => {
          const hoverType = e.currentTarget.getAttribute("data-type");
          
          // Set content
          tooltip.innerHTML = `<strong>${hoverType}</strong> (${typeCounts[hoverType]} Pokémon)`;
          
          // Change to fixed positioning (critical fix)
          tooltip.style.position = "fixed";
          tooltip.style.display = "block";
          
          // Position tooltip near the cursor using viewport coordinates
          tooltip.style.left = `${e.clientX + 15}px`;
          tooltip.style.top = `${e.clientY + 15}px`;
          
          // Ensure tooltip stays within viewport
          const tooltipRect = tooltip.getBoundingClientRect();
          if (tooltipRect.right > window.innerWidth) {
            tooltip.style.left = `${e.clientX - tooltipRect.width - 15}px`;
          }
          if (tooltipRect.bottom > window.innerHeight) {
            tooltip.style.top = `${e.clientY - tooltipRect.height - 15}px`;
          }
        });
        
        group.addEventListener("mouseleave", () => {
          tooltip.style.display = "none";
        });
      });
    }

    // Update connection visibility and styling
    function updateConnections() {
      // Reset all connections (remove highlighting)
      document.querySelectorAll(".connections path").forEach(path => {
        path.classList.remove("highlighted");
        path.classList.remove("adv");
        path.classList.remove("disadv");
      });
      
      // Reset all marker lines
      document.querySelectorAll(".marker-line").forEach(line => {
        line.classList.remove("highlighted");
      });
      
      // If no types selected, all connections stay faint
      if (selectedTypes.size === 0) return;
      
      // Highlight connections for selected types
      selectedTypes.forEach(type => {
        // Find all connections where this type is involved
        document.querySelectorAll(`.connections path[data-source="${type}"], .connections path[data-target="${type}"]`).forEach(path => {
          path.classList.add("highlighted");
        });

        document.querySelectorAll(`.connections path[data-source="${type}"]`).forEach(path => {
          path.classList.add("adv");
          path.classList.remove("disadv");
        })

        document.querySelectorAll(`.connections path[data-target="${type}"]`).forEach(path => {
          path.classList.add("disadv");
          path.classList.add("adv");
        })
        
        // Find all marker lines where this type is involved and make them visible
        document.querySelectorAll(`.marker-line[data-source="${type}"], .marker-line[data-target="${type}"]`).forEach(line => {
          line.classList.add("highlighted");
        });
      });
    }

    function updateIcons() {

      visibleTypes.clear();

      if (selectedTypes.size === 0){
        document.querySelectorAll(".type-icon").forEach(icon => {
          icon.classList.remove("fade");
        });
        return;
      }

      selectedTypes.forEach(type => {
        visibleTypes.add(type);
        document.querySelectorAll(`.connections path[data-source="${type}"], .connections path[data-target="${type}"]`).forEach(path => {
          visibleTypes.add(path.getAttribute("data-source"));
          visibleTypes.add(path.getAttribute("data-target"));
        });
      })

      types.forEach(type => {
        if (!visibleTypes.has(type)) {
          document.querySelectorAll(`.type-icon[data-type="${type}"]`).forEach(icon => {
            icon.classList.add("fade");
          })
        }
        else {
          document.querySelectorAll(`.type-icon[data-type="${type}"]`).forEach(icon => {
            icon.classList.remove("fade");
          })
        }
      })
        
    }

    // Reset button functionality
    resetButton.addEventListener("click", () => {
      document.querySelectorAll(".type-icon").forEach(icon => {
        icon.classList.remove("selected");
      });
      selectedTypes.clear();
      updateConnections();
      updateIcons();
    });

    // Initialize the wheel
    function initializeWheel() {
      createConnections();
      createTypeIcons();
    }

    // Start everything
    initializeWheel();
  </script>
      <h1>Pokemon Stats Dashboard</h1>

      <div style="padding-left: 10%; padding-right: 10%">
        <p>
          Every Pokémon has Base Stats—numerical attributes that determine its performance in battle. These include:
        </p>
        <ul style="padding-left: 20%; padding-right: 20%; text-align: left">
          <li>HP (Hit Points): How much damage it can take</li>
          <li>ATK (Attack): How powerful a Pokémon's physical moves will be</li>
          <li>DEF (Defense): How well a Pokémon can defend against physical moves</li>
          <li>SPD (Speed): Who goes first and who strikes the quickest </li>
          <li>SPATK (Special Attack): How powerful a Pokémon's special moves will be</li>
          <li>SPDEF (Special Defense): How well a Pokémon can defend against special moves.</li>
        </ul>
        <p>
          These stats are often hidden behind fan-made rankings or tier lists. Our goal? Make them visible—and explorable.
        </p>
      </div>
    
      <!-- https://public.tableau.com/app/profile/michael.wang5327/viz/final_project_v1_17448617236470/Dashboard1?publish=yes -->
      <div class="dashboard-container">
          <div class='tableauPlaceholder' id='stats' style='margin-left:auto; margin-right: auto'>
              <noscript>
                  <a href='#'>
                      <img alt='Dashboard 1' src='https://public.tableau.com/static/images/fi/final_project_v1_17448617236470/Dashboard1/1_rss.png' style='border: none' />
                  </a>
              </noscript>
              <object class='tableauViz' style='display:none;'>
                  <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> 
                  <param name='embed_code_version' value='3' /> 
                  <param name='site_root' value='' />
                  <param name='name' value='final_project_v1_17448617236470&#47;Dashboard1' />
                  <param name='tabs' value='no' />
                  <param name='toolbar' value='yes' />
                  <param name='static_image' value='https://public.tableau.com/static/images/fi/final_project_v1_17448617236470/Dashboard1/1.png' /> 
                  <param name='animate_transition' value='yes' />
                  <param name='display_static_image' value='yes' />
                  <param name='display_spinner' value='yes' />
                  <param name='display_overlay' value='yes' />
                  <param name='display_count' value='yes' />
                  <param name='language' value='en-US' />
                  <param name='filter' value='publish=yes' />
              </object>
          </div>
          <script type='text/javascript'>
              var divElement = document.getElementById('stats');
              var vizElement = divElement.getElementsByTagName('object')[0];
              
              if (divElement.offsetWidth > 800) { 
                  vizElement.style.width = '1000px';
                  vizElement.style.height = '827px';
              } else if (divElement.offsetWidth > 500) { 
                  vizElement.style.width = '1000px';
                  vizElement.style.height = '827px';
              } else { 
                  vizElement.style.width = '100%';
                  vizElement.style.height = '1677px';
              }
              
              var scriptElement = document.createElement('script');
              scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
              vizElement.parentNode.insertBefore(scriptElement, vizElement);
          </script>
      </div>

      <div style="padding-left: 10%; padding-right: 10%">
        <p>
          We've created a histogram to show how a specific stat compares across all Pokémon.
        </p>
        <p>
          Click around. Want to know if Charizard is really that fast? Compare it to others in the histogram and see for yourself.
        </p>
      </div>

      <h1>Single vs Dual Types - Twice the Strategy</h1>
      
      <div style="padding-left: 10%; padding-right: 10%">
        <p>
          Some Pokémon have one type. Others have two. This might sound like a minor difference—but it adds layers of strategy.
        </p>
        <p>
          Dual-typed Pokémon can cover more bases—or have more vulnerabilities.
        </p>
        <p>
          For example: Gyarados is Water and Flying. That makes it immune to Ground attacks, but <i>extra</i> weak to Electric.
        </p>
      </div>

      <div>
        Can't remember which Pokemon is which type? Search through!
      </div>

      <iframe width="80%" height="1200" frameborder="0"
      src="https://observablehq.com/embed/0f5880d644899488?cells=chart"></iframe>

      <iframe width="80%" height="1000" frameborder="0"
      src="https://observablehq.com/embed/0f5880d644899488?cells=chart"></iframe>

      <iframe width="80%" height="900" frameborder="0"
      src="https://observablehq.com/embed/0f5880d644899488?cells=chart"></iframe>

      <iframe width="70%" height="1200" frameborder="0"
      src="https://observablehq.com/embed/0f5880d644899488?cells=chart"></iframe>

      <iframe width="70%" height="1000" frameborder="0"
      src="https://observablehq.com/embed/0f5880d644899488?cells=chart"></iframe>

      <iframe width="70%" height="900" frameborder="0"
      src="https://observablehq.com/embed/0f5880d644899488?cells=chart"></iframe>
  
      <h1>Legendary Pokemon - Statistical Myths and Monsters</h1>

      <div style="padding-left: 10%; padding-right: 10%">
        <p>
          What makes a Pokémon legendary?
        </p>
        <p>
          They're rare, often only available once per game, and central to Pokémon lore. But here's the key: they almost always have superior base stats.
        </p>
      </div>
  
      <!-- https://public.tableau.com/app/profile/yvette.vargas/viz/EDA_17450133888740/Dashboard5 -->
      <div class="dashboard-container">
          <div class='tableauPlaceholder' id='legendary' style='margin-left:auto; margin-right: auto'>
              <noscript>
                  <a href='#'>
                      <img alt='Dashboard 1' src='https://public.tableau.com/static/images/fi/EDA_17450133888740/Dashboard5/1_rss.png' style='border: none' />
                  </a>
              </noscript>
              <object class='tableauViz' style='display:none;'>
                  <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> 
                  <param name='embed_code_version' value='3' /> 
                  <param name='site_root' value='' />
                  <param name='name' value='EDA_17450133888740&#47;Dashboard5' />
                  <param name='tabs' value='no' />
                  <param name='toolbar' value='yes' />
                  <param name='static_image' value='https://public.tableau.com/static/images/fi/EDA_17450133888740/Dashboard5/1.png' /> 
                  <param name='animate_transition' value='yes' />
                  <param name='display_static_image' value='yes' />
                  <param name='display_spinner' value='yes' />
                  <param name='display_overlay' value='yes' />
                  <param name='display_count' value='yes' />
                  <param name='language' value='en-US' />
                  <param name='filter' value='publish=yes' />
              </object>
          </div>
          <script type='text/javascript'>
              var divElement = document.getElementById('legendary');
              var vizElement = divElement.getElementsByTagName('object')[0];
              
              if (divElement.offsetWidth > 800) { 
                  vizElement.style.width = '1000px';
                  vizElement.style.height = '827px';
              } else if (divElement.offsetWidth > 500) { 
                  vizElement.style.width = '1000px';
                  vizElement.style.height = '827px';
              } else { 
                  vizElement.style.width = '100%';
                  vizElement.style.height = '1677px';
              }
              
              var scriptElement = document.createElement('script');
              scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
              vizElement.parentNode.insertBefore(scriptElement, vizElement);
          </script>
      </div>

      <div style="padding-left: 10%; padding-right: 10%">
        <p>
          This section explores how Legendary Pokémon stand apart. You'll notice their stats break the mold—often maxing out in multiple areas.
        </p>
        <p>
          But does that mean they always win? Not quite. Context, matchups, and strategy still matter.
        </p>
      </div>

      <h1>Conclusion - Becoming the Very Best</h1>

      <div style="padding-left: 10%; padding-right: 10%">
        <p>
          Pokémon is more than nostalgia. It's a data-rich, choice-driven world that rewards curiosity and pattern recognition.
        </p>
        <p>
          Our application simplifies the most complex systems — types, stats, rarity, and combinations — and puts them into your hands.
        </p>
        <p>
          Whether you're a total beginner or a casual fan, we hope this guide gave you clarity - and a reason to keep exploring.
        </p>
      </div>
</body>
</html>